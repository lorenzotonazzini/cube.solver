(function(){var e,$,t,r,n,o,i,s,c,h,_,u,p,f,l,a,v,w,m,g,S,y,d,b,D,U,B,C,E,F,L,R,J,M,N,O,k,z,x;[m,w,f,n,v,e]=[0,1,2,3,4,5],[B,d,D,S,c,_,i,p]=[0,1,2,3,4,5,6,7],[U,y,b,g,u,s,h,o,a,l,$,t]=[0,1,2,3,4,5,6,7,8,9,10,11],[E,L,J]=(x=function(e){return e-1},z=function(e){return x(9)+e},O=function(e){return z(9)+e},N=function(e){return O(9)+e},k=function(e){return N(9)+e},M=function(e){return k(9)+e},[[4,13,22,31,40,49],[[x(9),z(1),O(3)],[x(7),O(1),k(3)],[x(1),k(1),M(3)],[x(3),M(1),z(3)],[N(3),O(9),z(7)],[N(1),k(9),O(7)],[N(7),M(9),k(7)],[N(9),z(9),M(7)]],[[x(6),z(2)],[x(8),O(2)],[x(4),k(2)],[x(2),M(2)],[N(6),z(8)],[N(2),O(8)],[N(4),k(8)],[N(8),M(8)],[O(6),z(4)],[O(4),k(6)],[M(6),k(4)],[M(4),z(6)]]]),C=["U","R","F","D","L","B"],F=[["U","R","F"],["U","F","L"],["U","L","B"],["U","B","R"],["D","F","R"],["D","L","F"],["D","B","L"],["D","R","B"]],R=[["U","R"],["U","F"],["U","L"],["U","B"],["D","R"],["D","F"],["D","L"],["D","B"],["F","R"],["F","L"],["B","L"],["B","R"]],r=(function(){var r,E,M,N,O,k,z,x,j,I,q,A;class G{constructor(e){var $;null!=e?this.init(e):this.identity(),this.newCenter=function(){var e,t;for(t=[],$=e=0;e<=5;$=++e)t.push(0);return t}(),this.newCp=function(){var e,t;for(t=[],$=e=0;e<=7;$=++e)t.push(0);return t}(),this.newEp=function(){var e,t;for(t=[],$=e=0;e<=11;$=++e)t.push(0);return t}(),this.newCo=function(){var e,t;for(t=[],$=e=0;e<=7;$=++e)t.push(0);return t}(),this.newEo=function(){var e,t;for(t=[],$=e=0;e<=11;$=++e)t.push(0);return t}()}init(e){return this.center=e.center.slice(0),this.co=e.co.slice(0),this.ep=e.ep.slice(0),this.cp=e.cp.slice(0),this.eo=e.eo.slice(0)}identity(){var e;return this.center=[0,1,2,3,4,5],this.cp=[0,1,2,3,4,5,6,7],this.co=function(){var $,t;for(t=[],e=$=0;$<=7;e=++$)t.push(0);return t}(),this.ep=[0,1,2,3,4,5,6,7,8,9,10,11],this.eo=function(){var $,t;for(t=[],e=$=0;$<=11;e=++$)t.push(0);return t}()}toJSON(){return{center:this.center,cp:this.cp,co:this.co,ep:this.ep,eo:this.eo}}asString(){var e,$,t,r,n,o,i,s,c,h,_;for(_=[],t=r=0;r<=5;t=++r)_[9*t+4]=C[this.center[t]];for(t=n=0;n<=7;t=++n)for(e=this.cp[t],c=this.co[t],i=o=0;o<=2;i=++o)_[L[t][(i+c)%3]]=F[e][i];for(t=s=0;s<=11;t=++s)for($=this.ep[t],c=this.eo[t],i=h=0;h<=1;i=++h)_[J[t][(i+c)%2]]=R[$][i];return _.join("")}static fromString(e){var $,t,r,n,o,i,s,c,h,_,u,p,f,l;for(r=new G,n=i=0;i<=5;n=++i)for(o=s=0;s<=5;o=++s)e[9*n+4]===C[o]&&(r.center[n]=o);for(n=c=0;c<=7;n=++c){for(_=h=0;h<=2&&"U"!==(l=e[L[n][_]])&&"D"!==l;_=++h);for($=e[L[n][(_+1)%3]],t=e[L[n][(_+2)%3]],o=u=0;u<=7;o=++u)$===F[o][1]&&t===F[o][2]&&(r.cp[n]=o,r.co[n]=_%3)}for(n=p=0;p<=11;n=++p)for(o=f=0;f<=11;o=++f){if(e[J[n][0]]===R[o][0]&&e[J[n][1]]===R[o][1]){r.ep[n]=o,r.eo[n]=0;break}if(e[J[n][0]]===R[o][1]&&e[J[n][1]]===R[o][0]){r.ep[n]=o,r.eo[n]=1;break}}return r}clone(){return new G(this.toJSON())}static random(){return new G().randomize()}isSolved(){var e,$,t,r,n,o,i;for((t=this.clone()).move(t.upright()),$=n=0;n<=5;$=++n)if(t.center[$]!==$)return!1;for(e=o=0;o<=7;e=++o)if(t.cp[e]!==e||0!==t.co[e])return!1;for(r=i=0;i<=11;r=++i)if(t.ep[r]!==r||0!==t.eo[r])return!1;return!0}centerMultiply(e){var $,t,r;for(r=t=0;t<=5;r=++t)$=e.center[r],this.newCenter[r]=this.center[$];return[this.center,this.newCenter]=[this.newCenter,this.center],this}cornerMultiply(e){var $,t,r;for(r=t=0;t<=7;r=++t)$=e.cp[r],this.newCp[r]=this.cp[$],this.newCo[r]=(this.co[$]+e.co[r])%3;return[this.cp,this.newCp]=[this.newCp,this.cp],[this.co,this.newCo]=[this.newCo,this.co],this}edgeMultiply(e){var $,t,r;for(r=t=0;t<=11;r=++t)$=e.ep[r],this.newEp[r]=this.ep[$],this.newEo[r]=(this.eo[$]+e.eo[r])%2;return[this.ep,this.newEp]=[this.newEp,this.ep],[this.eo,this.newEo]=[this.newEo,this.eo],this}multiply(e){return this.centerMultiply(e),this.cornerMultiply(e),this.edgeMultiply(e),this}move(e){var $,t,r,n,o,i,s,c,h;for(t=0,n=(s=M(e)).length;t<n;t++)for($=(o=s[t])/3|0,i=o%3,h=r=0,c=i;0<=c?r<=c:r>=c;h=0<=c?++r:--r)this.multiply(G.moves[$]);return this}upright(){var $,t,r,o,i,s;for($=this.clone(),s=[],t=o=0;o<=5&&$.center[t]!==f;t=++o);switch(t){case n:s.push("x");break;case m:s.push("x'");break;case e:s.push("x2");break;case w:s.push("y");break;case v:s.push("y'")}for(s.length&&$.move(s[0]),r=i=0;i<=5&&$.center[r]!==m;r=++i);switch(r){case v:s.push("z");break;case w:s.push("z'");break;case n:s.push("z2")}return s.join(" ")}static inverse(e){var $,t,n,o,i,s,c;if((s=function(){var t,r,n,s;for(t=0,n=M(e),s=[],r=n.length;t<r;t++)$=(o=n[t])/3|0,i=o%3,s.push(3*$+-(i-1)+1);return s}()).reverse(),"string"==typeof e){for(t=0,c="",n=s.length;t<n;t++)$=(o=s[t])/3|0,i=o%3,c+=r[$],1===i?c+="2":2===i&&(c+="'"),c+=" ";return c.substring(0,c.length-1)}return null!=e.length?s:(!1,s[0])}}return G.prototype.randomize=(j=function(e,$){return e+Math.floor(Math.random()*($-e+1))},A=function(e){var $,t,r;for($=e.length;0!==$;)t=j(0,$-1),$-=1,r=e[$],[e[$],e[t]]=[e[t],e[$]]},z=function(e){var $,t,r,n,o,i,s,c;for(o=0,s=function(){var $,t,r;for(r=[],c=$=0,t=e.length-1;0<=t?$<=t:$>=t;c=0<=t?++$:--$)r.push(!1);return r}();;){for($=-1,r=n=0,i=e.length-1;0<=i?n<=i:n>=i;r=0<=i?++n:--n)if(!s[r]){$=r;break}if(-1===$)break;for(t=0;!s[$];)s[$]=!0,t++,$=e[$];o+=t+1}return o},N=function(e,$){var t;return(t=z($)+z(e))%2==0},k=function(e,$){for(A($),A(e);!N(e,$);)A($),A(e)},I=function(e,$){var t,r,n,o;for(n=0,t=r=0,o=e.length-1;0<=o?r<=o:r>=o;t=0<=o?++r:--r)n+=e[t]=j(0,$-1)},x=function(e,$){return e.reduce(function(e,$){return e+$})%$==0},O=function(e,$){for(I(e,3);!x(e,3);)I(e,3);for(I($,2);!x($,2);)I($,2)},q=function(){return k(this.cp,this.ep),O(this.co,this.eo),this}),G.moves=[{center:[0,1,2,3,4,5],cp:[S,B,d,D,c,_,i,p],co:[0,0,0,0,0,0,0,0],ep:[g,U,y,b,u,s,h,o,a,l,$,t],eo:[0,0,0,0,0,0,0,0,0,0,0,0]},{center:[0,1,2,3,4,5],cp:[c,d,D,B,p,_,i,S],co:[2,0,0,1,1,0,0,2],ep:[a,y,b,g,t,s,h,o,u,l,$,U],eo:[0,0,0,0,0,0,0,0,0,0,0,0]},{center:[0,1,2,3,4,5],cp:[d,_,D,S,B,c,i,p],co:[1,2,0,0,2,1,0,0],ep:[U,l,b,g,u,a,h,o,y,s,$,t],eo:[0,1,0,0,0,1,0,0,1,1,0,0]},{center:[0,1,2,3,4,5],cp:[B,d,D,S,_,i,p,c],co:[0,0,0,0,0,0,0,0],ep:[U,y,b,g,s,h,o,u,a,l,$,t],eo:[0,0,0,0,0,0,0,0,0,0,0,0]},{center:[0,1,2,3,4,5],cp:[B,D,i,S,c,d,_,p],co:[0,1,2,0,0,2,1,0],ep:[U,y,$,g,u,s,l,o,a,b,h,t],eo:[0,0,0,0,0,0,0,0,0,0,0,0]},{center:[0,1,2,3,4,5],cp:[B,d,S,p,c,_,D,i],co:[0,0,1,2,0,0,2,1],ep:[U,y,b,t,u,s,h,$,a,l,g,o],eo:[0,0,0,1,0,0,0,1,0,0,1,1]},{center:[m,f,v,n,e,w],cp:[B,d,D,S,c,_,i,p],co:[0,0,0,0,0,0,0,0],ep:[U,y,b,g,u,s,h,o,l,$,t,a],eo:[0,0,0,0,0,0,0,0,1,1,1,1]},{center:[e,w,m,f,v,n],cp:[B,d,D,S,c,_,i,p],co:[0,0,0,0,0,0,0,0],ep:[U,g,b,o,u,y,h,s,a,l,$,t],eo:[0,1,0,1,0,1,0,1,0,0,0,0]},{center:[v,m,f,w,n,e],cp:[B,d,D,S,c,_,i,p],co:[0,0,0,0,0,0,0,0],ep:[b,y,h,g,U,s,u,o,a,l,$,t],eo:[1,0,1,0,1,0,1,0,0,0,0,0]}],E={U:0,R:1,F:2,D:3,L:4,B:5,E:6,M:7,S:8,x:9,y:10,z:11,u:12,r:13,f:14,d:15,l:16,b:17},r={0:"U",1:"R",2:"F",3:"D",4:"L",5:"B",6:"E",7:"M",8:"S",9:"x",10:"y",11:"z",12:"u",13:"r",14:"f",15:"d",16:"l",17:"b"},M=function(e){var $,t,r,n,o,i,s;if("string"==typeof e){for($=0,i=e.split(/\s+/),s=[],t=i.length;$<t;$++)if(0!==(n=i[$]).length){if(n.length>2||void 0===(r=E[n[0]]))throw Error(`Invalid move: ${n}`);if(1===n.length)o=0;else if("2"===n[1])o=1;else if("'"===n[1])o=2;else throw Error(`Invalid move: ${n}`);s.push(3*r+o)}return s}return null!=e.length?e:[e]},G.moves.push(new G().move("R M' L'").toJSON()),G.moves.push(new G().move("U E' D'").toJSON()),G.moves.push(new G().move("F S B'").toJSON()),G.moves.push(new G().move("U E'").toJSON()),G.moves.push(new G().move("R M'").toJSON()),G.moves.push(new G().move("F S").toJSON()),G.moves.push(new G().move("D E").toJSON()),G.moves.push(new G().move("L M").toJSON()),G.moves.push(new G().move("B S'").toJSON()),G}).call(this),"undefined"!=typeof module&&null!==module?module.exports=r:this.Cube=r}).call(this);